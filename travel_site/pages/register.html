<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>注册 - 心途旅行</title>
	<link rel="stylesheet" href="../assets/styles.css">
</head>
<body data-page="register">
	<header class="site-header">
		<div class="container header-inner">
			<a href="../../index.html" class="logo">心途旅行</a>
			<nav class="nav" aria-label="主导航">
				<button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navMenu" aria-label="打开菜单">
					<span class="bar"></span><span class="bar"></span><span class="bar"></span>
				</button>
				<ul id="navMenu" class="nav-menu">
					<li><a href="../destinations/destinations.html">目的地</a></li>
					<li><a href="deals.html">特惠套餐</a></li>
					<li><a href="stories.html">旅行故事</a></li>
					<li><a href="about.html">关于我们</a></li>
					<li><a href="contact.html">联系我们</a></li>
					<li><a href="favorites.html">收藏</a></li>
					<li><a href="orders.html">订单</a></li>
					<li><a href="profile.html" id="profileLink" style="display:none">个人中心</a></li>
					<li><a href="login.html" id="authLink">登录</a></li>
				</ul>
			</nav>
		</div>
	</header>

	<main class="section auth-wrap">
		<div class="auth-card">
			<h2>用户注册</h2>
			<form id="registerForm" class="auth-form" novalidate>
				<div class="form-row">
					<label class="sr-only" for="phone">手机号</label>
					<input id="phone" type="text" placeholder="手机号" required>
				</div>
				<div class="form-row">
					<label class="sr-only" for="email">邮箱</label>
					<input id="email" type="text" placeholder="邮箱" required>
				</div>
				<div class="form-row">
					<label class="sr-only" for="password">密码</label>
					<input id="password" type="password" placeholder="密码" required>
				</div>
				<button type="button" onclick="register()">注册</button>
				<div class="helper"><a href="login.html">已有账号？去登录</a></div>
				<p class="form-msg" id="registerMsg"></p>
			</form>
		</div>
	</main>

	<footer class="site-footer">
		<div class="container bottom">
			<p>© <span id="year"></span> 心途旅行</p>
		</div>
	</footer>

	<script>
		function register() {
			const phone = document.getElementById("phone").value.trim();
			const email = document.getElementById("email").value.trim();
			const password = document.getElementById("password").value.trim();

			// 手机号验证
			if (!/^\d{11}$/.test(phone)) {
				alert("手机号必须是11位数字！");
				return;
			}

			// 邮箱验证
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			if (!emailRegex.test(email)) {
				alert("请输入有效的邮箱地址！");
				return;
			}

			// 密码验证：至少8位，包含大小写字母
			const pwdRegex = /^(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
			if (!pwdRegex.test(password)) {
				alert("密码必须大于8位，且包含大小写字母！");
				return;
			}

			if (localStorage.getItem(email)) {
				alert("该邮箱已注册！");
				return;
			}

			// 保存到localStorage
			const userData = { phone, email, password };
			localStorage.setItem(email, JSON.stringify(userData));

			alert("注册成功，请登录！");
			window.location.href = "login.html";
		}
	</script>
	<script src="../assets/script.js"></script>
</body>
</html>


